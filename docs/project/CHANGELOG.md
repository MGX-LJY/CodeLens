# CodeLens 更新日志

## [0.6.1.0] - 2025-09-13

### 文档更新
- 新增Task Engine模块完整文档
- 新增4个MCP工具实现文档  
- 更新所有架构和项目文档至v0.6.0.0

## [0.6.0.0] - 2025-09-13

### 🚀 重大更新 - 增强型MCP任务流程系统

#### 新增功能
- **任务引擎模块**: TaskManager、PhaseController、StateTracker
- **4个新MCP工具**: doc_guide（项目分析）、task_init（任务生成）、task_execute（执行管理）、task_status（进度监控）
- **5阶段工作流程**: 扫描 → 文件 → 模块 → 架构 → 项目（严格依赖控制）
- **智能文件过滤**: 项目类型感知，减少无关文件干扰

#### 技术改进
- 100%阶段完成率要求
- 任务依赖图谱管理
- 状态持久化存储
- 日志系统标准化
- 修复所有导入错误

#### 破坏性变更
- MCP工具：3个 → 7个
- 执行模式：手动 → 自动化阶段控制

## [0.5.4.1] - 2025-09-13

### 文档更新
- 更新架构文档data-flow.md,overview.md和tech-stack.md

### 删除文档
- 删除不需要的文档

## [0.5.4.0] - 2025-09-13

### 模板系统优化
- 文件层模板整合：将3个文件层模板整合为1个FILE_SUMMARY_TEMPLATE
- 模板系统从18个精简到16个核心模板：架构层(6个) + 模块层(6个) + 文件层(1个) + 项目层(3个)

### 技术改进
- 更新mcp_server.py到v0.5.4.0，完全适配16个模板系统
- 更新validation_service.py适配16模板验证逻辑
- 新增通用项目文档目录结构生成功能

### 文档更新
- 创建模块连接文档：api-services.md和auth-database.md
- 更新docs/files/summaries/src/templates相关文档

## [0.5.3.2] - 2025-09-13

### MCP服务器更新
- 更新mcp_server.py到v0.5.3.2，完全适配18个核心模板系统

## [0.5.3.1] - 2025-09-13

### 文档同步更新
- 更新docs/files/summaries/src/templates目录下的所有文档文件

## [0.5.3] - 2025-09-13

### 模板精简化
- 删除架构层模板：设计模式模板
- 删除文件层模板：算法分解模板、代码度量模板
- 删除项目层模板：贡献指南、API参考、故障排除、性能报告、版本记录模板
- 模板系统从26个精简到18个核心模板：架构层(6个) + 模块层(6个) + 文件层(3个) + 项目层(3个)

### 技术改进
- 更新TemplateServiceV05适配18个模板系统
- 保持向后兼容性，核心功能不变

## [0.5.2] - 2025-09-13

### 文档更新
- 更新docs/files中src/templates所有模板文件的文档
- 完善模板系统相关文件的描述和功能说明
- 统一文件层文档的格式和内容

## [0.5.1] - 2025-09-13

### 改进
- 文档语言优化：移除夸张性描述，使用更准确的技术表述
- 文档结构简化：清理版本号信息，专注核心功能说明
- 用户体验提升：简化文档表述，提高可读性

## [0.5.0] - 2025-09-13

### 🚀 重大更新
- **26个专业模板系统**：从4个基础模板升级到26个企业级专业模板
- **四层文档架构**：Architecture(7) + Module(6) + File(5) + Project(8)
- **TemplateServiceV05**：全新的26模板统一管理服务
- **模块化模板组织**：独立Python文件管理，便于维护和扩展

### 新增功能
- 智能模板查询：按层级、类型、名称多维度查询
- 模板统计功能：get_layer_stats()提供各层级模板分布统计
- 增强MCP工具集成：所有工具支持26模板系统和四层架构

### 性能优化
- 模板加载：26个模板，<0.02秒加载完成
- 内存优化：按需加载模板，支持大规模项目
- 并发支持：模板服务支持并发访问

### 破坏性变更
- TemplateService → TemplateServiceV05
- 模板类型：从4个扩展到26个专业类型

## [0.4.1] - 2025-09-13

### 修复
- **日志系统集成**：修复MCP工具和服务器缺失的日志记录功能
- **操作日志记录**：为所有MCP工具添加完整的日志支持

## [0.4.0] - 2025-09-13

### 添加
- **完整MCP服务器**：`mcp_server.py` - 生产就绪的MCP协议服务器
- **Claude Code集成**：配置模板和部署指南
- **协作流程测试**：`test_mcp_doc_init.py` - 8步验证工具
- **使用指南**：`CODELENS_MCP_GUIDE.md`

### 性能验证
- 微信自动化项目：118文件/0.07秒，生成7个文档

## [0.3.0] - 2025-09-13

### 添加
- **企业级日志系统**：结构化JSON日志、文件轮转、异步写入
- **服务集成**：所有核心服务集成日志功能
- **操作追踪**：完整的操作耗时和性能监控

### 技术改进
- 零依赖设计，仅使用Python标准库
- 企业级可观测性能力

## [0.2.0] - 2025-09-13

### 添加
- ValidationService文档验证服务
- doc_scan MCP工具（替代doc_init）
- template_get MCP工具
- doc_verify MCP工具
- 增强的FileService（元数据、目录树、统计）
- 模板资源管理功能

### 移除
- AIService和AI生成功能
- ThreeLayerDocGenerator文档生成器
- AI提示词相关功能

### 变更
- 重构为Claude Code协作助手架构
- 从AI文档生成转为信息提供服务
- 标准化JSON响应格式
- 无状态MCP工具设计

## [0.1.0] - 2025-09-12

### 添加
- 三层文档生成系统（文件层 → 模块层 → 架构层）
- Python项目代码扫描和分析
- Mock AI服务用于测试
- MCP doc_init工具
- 命令行接口
- 基本错误处理和文件过滤

### 限制
- 仅支持Python项目
- AI为模拟实现
- 暂无配置文件支持

## [0.0.1] - 2025-09-12

### 添加
- 项目初始化
- 基础文档结构