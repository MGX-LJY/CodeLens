# CodeLens 技术栈

## 核心技术

### 编程语言
- **Python 3.9+**: 主要开发语言，零外部依赖设计
- **强类型系统**: typing模块完整类型注解

### 架构模式
- **MCP协议**: Model Context Protocol标准实现
- **四层服务架构**: 服务层、MCP接口层、协作流程层
- **模块化微服务**: 各组件独立部署、测试、维护
- **无状态设计**: 每次MCP调用完全独立执行

### 数据格式
- **JSON**: 结构化数据交换格式
- **Markdown**: 文档模板格式

### 文件系统操作
- **pathlib**: 现代Python路径操作
- **glob**: 文件模式匹配

### 依赖策略
- **零外部依赖**: 仅使用Python标准库
- **轻量级设计**: 最小化资源占用
- **跨平台兼容**: 支持Windows、macOS、Linux

## 关键设计原则

### 性能优化
- **高效文件扫描**: pathlib + glob组合
- **内存优化**: 按需加载和缓存机制
- **快速响应**: 结构化数据处理

### 可靠性保证
- **异常处理**: 完整的错误捕获和恢复机制
- **优雅降级**: 确保系统在故障时正常运行
- **文件权限检查**: 确保文件可访问性

### 可观测性
- **结构化输出**: JSON格式便于解析
- **操作追踪**: 完整的调用链路记录
- **状态报告**: 验证和状态检查

### 配置管理
- **JSON配置**: 人类可读的配置格式
- **环境变量**: 支持环境变量覆盖
- **默认配置**: 提供合理的开箱即用配置

## 版本兼容性
- **Python版本**: 3.9+ (推荐3.11+)
- **操作系统**: Windows 10+, macOS 10.15+, Ubuntu 20.04+

## 部署架构

### 本地开发
```bash
python src/mcp_tools/doc_scan.py
python src/mcp_tools/template_get.py
python src/mcp_tools/doc_verify.py
```

### MCP服务器
标准MCP协议接口，支持Claude Code集成